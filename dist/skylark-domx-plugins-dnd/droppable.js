/**
 * skylark-domx-plugins-dnd - The dnd features enhancement for dom.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-finder","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins-base","./dnd","./manager"],function(r,e,a,n,t,g,o,i,s,d){g.on,g.off,a.attr,a.removeAttr,t.pagePosition,o.addClass,t.height;var l=i.Plugin.inherit({klassName:"Droppable",pluginName:"lark.dnd.droppable",options:{draggingClass:"dragging"},_construct:function(e,a){this.overrided(e,a);var n,t,i=this,s=((a=i.options).draggingClass,!0);["started","entered","leaved","dropped","overing"].forEach(function(e){r.isFunction(a[e])&&i.on(e,a[e])}),g.on(e,{dragover:function(r){if(r.stopPropagation(),s){var e=g.create("overing",{originalEvent:r,overElm:r.target,transfer:d.draggingTransfer,acceptable:!0});i.trigger(e),e.acceptable&&r.preventDefault()}},dragenter:function(r){i.options;var e=i._elm,a=g.create("entered",{originalEvent:r,transfer:d.draggingTransfer});i.trigger(a),r.stopPropagation(),n&&s&&o.addClass(e,n)},dragleave:function(r){i.options;var e=i._elm;if(!s)return!1;var a=g.create("leaved",{originalEvent:r,transfer:d.draggingTransfer});i.trigger(a),r.stopPropagation(),n&&s&&o.removeClass(e,n)},drop:function(r){i.options;var e=i._elm;if(g.stop(r),d.dragging){n&&s&&o.addClass(e,n);var a=g.create("dropped",{originalEvent:r,transfer:d.draggingTransfer});i.trigger(a),d.end(!0)}}}),d.on("dndStarted",function(r){var a=g.create("started",{transfer:d.draggingTransfer,acceptable:!1,dragging:r.dragging});i.trigger(a),s=a.acceptable,n=a.hoverClass,(t=a.activeClass)&&s&&o.addClass(e,t)}).on("dndEnded",function(r){var a=g.create("ended",{transfer:d.draggingTransfer,acceptable:!1});i.trigger(a),n&&s&&o.removeClass(e,n),t&&s&&o.removeClass(e,t),s=!1,t=null,n=null})}});return i.register(l,"droppable"),s.Droppable=l});
//# sourceMappingURL=sourcemaps/droppable.js.map
