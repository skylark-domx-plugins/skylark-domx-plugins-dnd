/**
 * skylark-domx-plugins-dnd - The dnd features enhancement for dom.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-finder","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins-base","./dnd","./manager"],function(r,e,a,n,t,o,g,s,i,d){o.on,o.off,a.attr,a.removeAttr,t.pagePosition,g.addClass,t.height;var l=s.Plugin.inherit({klassName:"Droppable",pluginName:"lark.dnd.droppable",options:{draggingClass:"dragging"},_construct:function(e,a){this.overrided(e,a);var n,t,s=this,i=((a=s.options).draggingClass,!0);["started","entered","leaved","dropped","overing"].forEach(function(e){r.isFunction(a[e])&&s.on(e,a[e])}),o.on(e,{dragover:function(r){if(r.stopPropagation(),i){var e=o.create("overing",{originalEvent:r,overElm:r.target,transfer:d.draggingTransfer,acceptable:!0});s.trigger(e),e.acceptable&&r.preventDefault()}},dragenter:function(r){s.options;var e=s._elm,a=o.create("entered",{originalEvent:r,transfer:d.draggingTransfer});s.trigger(a),r.stopPropagation(),n&&i&&g.addClass(e,n)},dragleave:function(r){s.options;var e=s._elm;if(!i)return!1;var a=o.create("leaved",{originalEvent:r,transfer:d.draggingTransfer});s.trigger(a),r.stopPropagation(),n&&i&&g.removeClass(e,n)},drop:function(r){s.options;var e=s._elm;if(o.stop(r),d.dragging){n&&i&&g.addClass(e,n);var a=o.create("dropped",{originalEvent:r,transfer:d.draggingTransfer});s.trigger(a),d.end(!0)}}}),d.on("dndStarted",function(r){var a=o.create("started",{transfer:d.draggingTransfer,acceptable:!1});s.trigger(a),i=a.acceptable,n=a.hoverClass,(t=a.activeClass)&&i&&g.addClass(e,t)}).on("dndEnded",function(r){var a=o.create("ended",{transfer:d.draggingTransfer,acceptable:!1});s.trigger(a),n&&i&&g.removeClass(e,n),t&&i&&g.removeClass(e,t),i=!1,t=null,n=null})}});return s.register(l,"droppable"),i.Droppable=l});
//# sourceMappingURL=sourcemaps/droppable.js.map
